** å¯¹è¯ä½¿ç”¨ä¸­æ–‡äº¤æµ **
# Team Do Task Web - AI åŠ©æ‰‹é¡¹ç›®è§„èŒƒ

è¿™æ˜¯ä¸€ä¸ªåŸºäº Vue 3 + Vite + Element Plus çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒ PC å’Œç§»åŠ¨ç«¯åŒç«¯è®¿é—®ã€‚

## æ ¸å¿ƒæŠ€æœ¯æ ˆ
- Vue 3.5.13 (Composition API + `<script setup>`)
- Vite 7.3.1
- Element Plus (PCç«¯) + Vant (ç§»åŠ¨ç«¯)
- Pinia (çŠ¶æ€ç®¡ç†)
- SCSS (æ ·å¼é¢„å¤„ç†)
- Vue I18n (å›½é™…åŒ–)
- Mock æ•°æ® (å½“å‰ä½¿ç”¨)

## ğŸš¨ å¼ºåˆ¶è§„èŒƒ

### 1. æ ·å¼è§„èŒƒ - ä¸¥ç¦ç¡¬ç¼–ç 
**ç¦æ­¢åœ¨ä»£ç ä¸­ç›´æ¥ä½¿ç”¨é¢œè‰²å€¼ã€é—´è·å€¼ã€å­—ä½“å¤§å°ï¼** å¿…é¡»ä½¿ç”¨ SCSS å˜é‡ã€‚

```scss
// âŒ é”™è¯¯ - ç¦æ­¢ç¡¬ç¼–ç 
.button {
  color: #409eff;
  padding: 12px;
  font-size: 14px;
}

// âœ… æ­£ç¡® - ä½¿ç”¨ SCSS å˜é‡ï¼ˆå·²å…¨å±€å¼•å…¥ï¼Œæ— éœ€ importï¼‰
.button {
  color: $primary-color;
  padding: $spacing-md;
  font-size: $font-size-base;
}
```

**å¸¸ç”¨ SCSS å˜é‡ï¼š**
- **é¢œè‰²**: `$primary-color`ã€`$text-primary`ã€`$text-regular`ã€`$text-secondary`ã€`$border-light`ã€`$bg-light`
- **é—´è·**: `$spacing-xs(4px)`ã€`$spacing-sm(8px)`ã€`$spacing-md(12px)`ã€`$spacing-lg(16px)`ã€`$spacing-xl(20px)`ã€`$spacing-xxl(24px)`
- **å­—ä½“**: `$font-size-small(12px)`ã€`$font-size-base(14px)`ã€`$font-size-large(16px)`

å˜é‡å®šä¹‰ä½ç½®ï¼š`src/styles/variables.scss`ï¼ˆå·²åœ¨ vite.config.js ä¸­å…¨å±€å¼•å…¥ï¼‰

### 2. å›½é™…åŒ–è§„èŒƒ - æ‰€æœ‰æ–‡æœ¬å¿…é¡»ä½¿ç”¨ i18n
**ç¦æ­¢åœ¨ä»£ç ä¸­ç›´æ¥å†™ä¸­æ–‡æˆ–è‹±æ–‡ï¼** å¿…é¡»ä½¿ç”¨ i18n ç¿»è¯‘å‡½æ•°ã€‚

```javascript
// âŒ é”™è¯¯ - ç¦æ­¢ç¡¬ç¼–ç æ–‡æœ¬
const title = 'ä»»åŠ¡è¯¦æƒ…'

// âœ… æ­£ç¡® - ä½¿ç”¨ i18n
const { t } = useI18n()
const title = t('task.detail')
```

è¯­è¨€æ–‡ä»¶ä½ç½®ï¼š`src/locales/zh.js` å’Œ `src/locales/en.js`

### 3. æšä¸¾å€¼è§„èŒƒ - ç¦æ­¢é­”æ³•æ•°å­—å’Œé­”æ³•å­—ç¬¦ä¸²

**ç¦æ­¢ç›´æ¥ä½¿ç”¨æ•°å­—æˆ–å­—ç¬¦ä¸²è¡¨ç¤ºçŠ¶æ€ã€ç±»å‹ï¼** å¿…é¡»å®šä¹‰å’Œä½¿ç”¨æšä¸¾å¸¸é‡ã€‚

```javascript
// âŒ é”™è¯¯ - ä»£ç å¯è¯»æ€§å·®ï¼Œéš¾ä»¥ç»´æŠ¤
if (task.status === 2) { /* 2 ä»£è¡¨ä»€ä¹ˆï¼Ÿ */ }

// âœ… æ­£ç¡® - å®šä¹‰å’Œä½¿ç”¨æšä¸¾
// src/constants/taskEnums.js
export const TASK_STATUS = {
  PENDING: 1,      // å¾…å¤„ç†
  COMPLETED: 2,    // å·²å®Œæˆ
  CANCELLED: 5     // å·²å–æ¶ˆ
}

// é…ç½®æ•°ç»„ï¼šç”¨äºä¸‹æ‹‰é€‰æ‹©ã€æ ‡ç­¾å±•ç¤º
export const TASK_STATUS_OPTIONS = [
  { value: TASK_STATUS.COMPLETED, label: 'å·²å®Œæˆ', type: 'success' },
  // ...
]

// å·¥å…·å‡½æ•°ï¼šç®€åŒ–æšä¸¾å€¼è½¬æ¢
export function getStatusLabel(status) {
  return TASK_STATUS_OPTIONS.find(opt => opt.value === status)?.label || '-'
}

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { TASK_STATUS, getStatusLabel } from '@/constants/taskEnums'
if (task.status === TASK_STATUS.COMPLETED) { /* æ¸…æ™°æ˜“æ‡‚ */ }
```

**æšä¸¾æ–‡ä»¶ä½ç½®**ï¼š`src/constants/` ç›®å½•ï¼ˆå¦‚ `taskEnums.js`ã€`userEnums.js`ï¼‰

### 4. ç»„ä»¶è§„èŒƒ
- **è¯­æ³•**: å¿…é¡»ä½¿ç”¨ `<script setup>` å’Œ Composition API
- **èŒè´£**: ç»„ä»¶åŠŸèƒ½å•ä¸€ã€èŒè´£æ¸…æ™°
- **ç±»å‹**: Props å’Œ Emits å¿…é¡»ä½¿ç”¨ TypeScript ç±»å‹æˆ–æ˜ç¡®çš„è¿è¡Œæ—¶éªŒè¯

```vue
<script setup>
// âœ… æ˜ç¡®å®šä¹‰ Props å’Œ Emits
const props = defineProps({
  taskId: {
    type: String,
    required: true
  }
})

const emit = defineEmits(['update', 'delete'])
</script>
```

#### 4.1 ç»„ä»¶æ‹†åˆ†åŸåˆ™

**å•ä¸€èŒè´£åŸåˆ™**: å½“ç»„ä»¶è¶…è¿‡ 200 è¡Œæˆ–æ‰¿æ‹…å¤šä¸ªèŒè´£æ—¶ï¼Œå¿…é¡»æ‹†åˆ†ã€‚

**æ‹†åˆ†æŒ‡æ ‡**:
- ç»„ä»¶æ–‡ä»¶è¶…è¿‡ 200 è¡Œä»£ç 
- ç»„ä»¶åŒ…å« 3 ä¸ªä»¥ä¸Šç‹¬ç«‹çš„ä¸šåŠ¡é€»è¾‘
- æŸæ®µ UI åœ¨å¤šå¤„é‡å¤å‡ºç°
- æŸæ®µ UI å¯èƒ½åœ¨æœªæ¥è¢«å¤ç”¨

**æ‹†åˆ†ç¤ºä¾‹**:
```vue
<!-- âŒ é”™è¯¯ - å•æ–‡ä»¶åŒ…å«è¿‡å¤šèŒè´£ -->
<template>
  <div class="task-detail">
    <!-- åŸºæœ¬ä¿¡æ¯ 100+ è¡Œ -->
    <!-- æ‰§è¡Œäººä¿¡æ¯ 100+ è¡Œ -->
    <!-- æ—¶é—´ä¿¡æ¯ 100+ è¡Œ -->
    <!-- é™„ä»¶åˆ—è¡¨ 100+ çº¿ -->
  </div>
</template>

<!-- âœ… æ­£ç¡® - æ‹†åˆ†æˆå¤šä¸ªå­ç»„ä»¶ -->
<template>
  <div class="task-detail">
    <BasicInfoSection :task="task" @update="handleUpdate" />
    <ExecutorSection :task="task" @change="handleExecutorChange" />
    <TimeSection :task="task" @update="handleTimeUpdate" />
    <AttachmentList :attachments="task.attachments" @upload="handleUpload" />
  </div>
</template>
```

**ç»„ä»¶å­˜æ”¾ä½ç½®**:
- **ä¸šåŠ¡ç»„ä»¶**: `src/components/business/[æ¨¡å—å]/` - ç‰¹å®šä¸šåŠ¡é€»è¾‘çš„ç»„ä»¶
- **é€šç”¨ç»„ä»¶**: `src/components/common/` - å¯è·¨é¡¹ç›®å¤ç”¨çš„é€šç”¨ UI ç»„ä»¶
- **å¸ƒå±€ç»„ä»¶**: `src/components/layout/` - é¡µé¢å¸ƒå±€ç›¸å…³ç»„ä»¶

#### 4.2 Composables (Hooks) æ‹†åˆ†åŸåˆ™

**æå– Composable çš„æ—¶æœº**:
- é€»è¾‘åœ¨å¤šä¸ªç»„ä»¶ä¸­é‡å¤ä½¿ç”¨
- æŸæ®µé€»è¾‘è¶…è¿‡ 50 è¡Œä¸”ç‹¬ç«‹å®Œæ•´
- é€»è¾‘å¯ä»¥ç‹¬ç«‹æµ‹è¯•
- é€»è¾‘æ¶‰åŠå¤æ‚çš„çŠ¶æ€ç®¡ç†æˆ–å‰¯ä½œç”¨

**Composables å‘½å**: å¿…é¡»ä»¥ `use` å¼€å¤´ï¼Œå¦‚ `useTaskFilter`ã€`usePermission`

**æ‹†åˆ†ç¤ºä¾‹**:
```javascript
// âŒ é”™è¯¯ - åœ¨ç»„ä»¶ä¸­é‡å¤ç¼–å†™ç›¸åŒé€»è¾‘
<script setup>
import { ref, computed } from 'vue'

const tasks = ref([])
const filterType = ref('all')
const searchKeyword = ref('')

const filteredTasks = computed(() => {
  return tasks.value.filter(task => {
    // 50+ è¡Œçš„å¤æ‚ç­›é€‰é€»è¾‘...
  })
})
</script>

// âœ… æ­£ç¡® - æå–ä¸º Composable
// src/composables/useTaskFilter.js
export function useTaskFilter(tasks) {
  const filterType = ref('all')
  const searchKeyword = ref('')
  
  const filteredTasks = computed(() => {
    return tasks.value.filter(task => {
      // å¤æ‚ç­›é€‰é€»è¾‘...
    })
  })
  
  return {
    filterType,
    searchKeyword,
    filteredTasks
  }
}

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
<script setup>
import { useTaskFilter } from '@/composables/useTaskFilter'

const tasks = ref([])
const { filterType, searchKeyword, filteredTasks } = useTaskFilter(tasks)
</script>
```

**Composables å­˜æ”¾ä½ç½®**: `src/composables/[åŠŸèƒ½å].js`

**å¸¸è§ Composables ç±»å‹**:
- **æ•°æ®è·å–**: `useTaskData`ã€`useTeamData`
- **ä¸šåŠ¡é€»è¾‘**: `useTaskFilter`ã€`useTaskSort`ã€`usePermission`
- **UI äº¤äº’**: `useDialog`ã€`useToast`ã€`usePagination`
- **å·¥å…·å‡½æ•°**: `useDebounce`ã€`useThrottle`ã€`useClipboard`

#### 4.3 å·¥å…·å‡½æ•°æ‹†åˆ†

**çº¯å‡½æ•°æå–**: æ— çŠ¶æ€ã€å¯ç‹¬ç«‹æµ‹è¯•çš„å‡½æ•°åº”æå–åˆ° `src/utils/`

```javascript
// âœ… æå–çº¯å‡½æ•°
// src/utils/task.js
export function calculateProgress(task) {
  if (!task.subtasks || task.subtasks.length === 0) return 0
  const completed = task.subtasks.filter(t => t.completed).length
  return Math.round((completed / task.subtasks.length) * 100)
}

export function isTaskOverdue(task) {
  return task.deadline && new Date(task.deadline) < new Date()
}
```

**å·¥å…·å‡½æ•°åˆ†ç±»**:
- `src/utils/date.js` - æ—¥æœŸæ—¶é—´å¤„ç†
- `src/utils/format.js` - æ•°æ®æ ¼å¼åŒ–
- `src/utils/validation.js` - æ•°æ®éªŒè¯
- `src/utils/permission.js` - æƒé™åˆ¤æ–­
- `src/utils/task.js` - ä»»åŠ¡ç›¸å…³å·¥å…·å‡½æ•°

### 5. ä»£ç å¤ç”¨æ£€æŸ¥æ¸…å•

åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œä¸»åŠ¨æ€è€ƒä»¥ä¸‹é—®é¢˜ï¼š

- [ ] è¿™æ®µ UI æ˜¯å¦ä¼šåœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨ï¼Ÿ â†’ è€ƒè™‘æå–ä¸º**é€šç”¨ç»„ä»¶**
- [ ] è¿™æ®µé€»è¾‘æ˜¯å¦ä¼šåœ¨å…¶ä»–ç»„ä»¶ä½¿ç”¨ï¼Ÿ â†’ è€ƒè™‘æå–ä¸º **Composable**
- [ ] è¿™ä¸ªå‡½æ•°æ˜¯å¦æ˜¯çº¯å‡½æ•°ï¼Ÿ â†’ è€ƒè™‘æå–ä¸º**å·¥å…·å‡½æ•°**
- [ ] ç»„ä»¶æ˜¯å¦è¶…è¿‡ 200 è¡Œï¼Ÿ â†’ è€ƒè™‘**æ‹†åˆ†ç»„ä»¶**
- [ ] é€»è¾‘æ˜¯å¦è¶…è¿‡ 50 è¡Œä¸”ç‹¬ç«‹ï¼Ÿ â†’ è€ƒè™‘æå–ä¸º **Composable**

### 6. å‘½åè§„èŒƒ
- **ç»„ä»¶æ–‡ä»¶**: PascalCaseï¼ˆå¦‚ `TaskList.vue`ã€`TaskDetailDialog.vue`ï¼‰
- **å·¥å…·å‡½æ•°**: camelCaseï¼ˆå¦‚ `formatDate`ã€`calculateProgress`ï¼‰
- **å¸¸é‡**: UPPER_SNAKE_CASEï¼ˆå¦‚ `TASK_STATUS`ã€`MAX_FILE_SIZE`ï¼‰
- **CSS ç±»å**: kebab-caseï¼ˆå¦‚ `.task-list`ã€`.task-detail-dialog`ï¼‰
- **å˜é‡/å‡½æ•°**: camelCaseï¼ˆå¦‚ `taskList`ã€`handleSubmit`ï¼‰

### 7. å¯¼å…¥é¡ºåº
æŒ‰ä»¥ä¸‹é¡ºåºç»„ç»‡å¯¼å…¥è¯­å¥ï¼š
1. Vue ç›¸å…³ï¼ˆvue, vue-router, pinia, vue-i18nï¼‰
2. ç¬¬ä¸‰æ–¹åº“ï¼ˆelement-plus, vant, dayjs, echartsï¼‰
3. é¡¹ç›®å†…éƒ¨æ¨¡å—ï¼ˆ`@/` å¼€å¤´ï¼‰
4. ç›¸å¯¹è·¯å¾„å¯¼å…¥ï¼ˆ`./`ã€`../`ï¼‰
5. æ ·å¼æ–‡ä»¶ï¼ˆ`.scss`ï¼‰

```javascript
// 1. Vue ç›¸å…³
import { ref, computed, onMounted } from 'vue'
import { useI18n } from 'vue-i18n'

// 2. ç¬¬ä¸‰æ–¹åº“
import { ElMessage } from 'element-plus'
import dayjs from 'dayjs'

// 3. é¡¹ç›®å†…éƒ¨
import { useTaskStore } from '@/stores/task'
import { formatDate } from '@/utils/date'

// 4. ç›¸å¯¹è·¯å¾„
import TaskItem from './TaskItem.vue'

// 5. æ ·å¼
import './styles.scss'
```

## æ–°å¢æ¥å£å¼€å‘æµç¨‹

å½“éœ€è¦æ–°å¢ API æ¥å£æ—¶ï¼Œå¿…é¡»æŒ‰é¡ºåºä¿®æ”¹ä»¥ä¸‹ 3 ä¸ªæ–‡ä»¶ï¼š

### 1. `src/api/index.js` - å®šä¹‰æ¥å£æ–¹æ³•
```javascript
// åœ¨å¯¹åº”çš„ API å¯¹è±¡ä¸­æ·»åŠ æ–¹æ³•
markImportant(id) {
  return request.post(`/api/todo/markImportant/${id}`)
}
```

### 2. `src/mock/index.js` - å®ç° Mock é€»è¾‘
```javascript
// åœ¨ mockApi å¯¹è±¡ä¸­æ·»åŠ æ–¹æ³•
async markImportant(id) {
  await delay() // æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿ
  // å®ç° mock é€»è¾‘
  return {
    code: '200',
    message: 'success',
    body: { /* è¿”å›æ•°æ® */ }
  }
}
```

### 3. `src/api/request.js` - æ·»åŠ è·¯ç”±æ˜ å°„
```javascript
// å¦‚æœæ˜¯è·¯å¾„å‚æ•°ï¼Œåœ¨ switch å‰æ·»åŠ è§£æ
const markImportantMatch = url.match(/^\/api\/todo\/markImportant\/(.+)$/)
if (markImportantMatch) {
  url = '/api/todo/markImportant'
  data = { id: markImportantMatch[1] }
}

// åœ¨ switch ä¸­æ·»åŠ  case
case '/api/todo/markImportant':
  result = await this.mockApi.markImportant(data?.id)
  break
```

## é¡¹ç›®ç»“æ„å…³é”®è·¯å¾„

```
src/
â”œâ”€â”€ api/              # API æ¥å£å®šä¹‰å’Œè¯·æ±‚å°è£…
â”‚   â”œâ”€â”€ index.js     # æ‰€æœ‰ API æ–¹æ³•å®šä¹‰
â”‚   â””â”€â”€ request.js   # è¯·æ±‚æ‹¦æˆªå™¨å’Œ Mock è·¯ç”±
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ business/    # ä¸šåŠ¡ç»„ä»¶ï¼ˆå¦‚ TaskListã€TaskDetailï¼‰
â”‚   â”œâ”€â”€ common/      # é€šç”¨ç»„ä»¶ï¼ˆå¦‚ ResponsiveComponentï¼‰
â”‚   â””â”€â”€ layout/      # å¸ƒå±€ç»„ä»¶ï¼ˆå¦‚ Sidebarï¼‰
â”œâ”€â”€ stores/          # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ user.js     # ç”¨æˆ·ä¿¡æ¯ã€æƒé™
â”‚   â”œâ”€â”€ task.js     # ä»»åŠ¡æ•°æ®ã€æ“ä½œ
â”‚   â”œâ”€â”€ team.js     # å›¢é˜Ÿæ•°æ®
â”‚   â””â”€â”€ app.js      # åº”ç”¨é…ç½®ï¼ˆè®¾å¤‡ç±»å‹ã€ä¸»é¢˜ã€è¯­è¨€ï¼‰
â”œâ”€â”€ views/           # é¡µé¢ç»„ä»¶
â”œâ”€â”€ locales/         # å›½é™…åŒ–æ–‡ä»¶
â”œâ”€â”€ styles/          # å…¨å±€æ ·å¼å’Œ SCSS å˜é‡
â”œâ”€â”€ utils/           # å·¥å…·å‡½æ•°
â””â”€â”€ mock/            # Mock æ•°æ®
```

## å“åº”å¼é€‚é…

é¡¹ç›®æ”¯æŒ PC å’Œç§»åŠ¨ç«¯åŒç«¯ï¼š
- **PC ç«¯**: ä½¿ç”¨ Element Plus ç»„ä»¶
- **ç§»åŠ¨ç«¯**: ä½¿ç”¨ Vant ç»„ä»¶
- ä½¿ç”¨ `src/utils/device.js` æ£€æµ‹è®¾å¤‡ç±»å‹
- Store (`app.js`) ä¸­ç»´æŠ¤è®¾å¤‡ç±»å‹çŠ¶æ€

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

- **è·¯ç”±æ‡’åŠ è½½**: å¤§ç»„ä»¶ä½¿ç”¨åŠ¨æ€å¯¼å…¥
  ```javascript
  const TaskDetail = () => import('@/components/business/TaskDetail.vue')
  ```
- **è®¡ç®—å±æ€§**: ä½¿ç”¨ `computed` ç¼“å­˜è®¡ç®—ç»“æœ
- **æ¨¡æ¿ä¼˜åŒ–**: é¿å…åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨å¤æ‚è¡¨è¾¾å¼ï¼Œåº”æ”¾åœ¨ `computed` ä¸­

## ä»£ç æäº¤å‰è‡ªæŸ¥æ¸…å•

- [ ] æ— ç¡¬ç¼–ç é¢œè‰²ã€é—´è·ã€å­—ä½“å¤§å°ï¼ˆå¿…é¡»ä½¿ç”¨ SCSS å˜é‡ï¼‰
- [ ] æ‰€æœ‰ç”¨æˆ·å¯è§æ–‡æœ¬å·²å›½é™…åŒ–ï¼ˆä½¿ç”¨ `t()` å‡½æ•°ï¼‰
- [ ] ç»„ä»¶æ”¯æŒå“åº”å¼ï¼ˆPC/ç§»åŠ¨ç«¯é€‚é…ï¼‰
- [ ] ä»£ç é€šè¿‡ ESLint æ£€æŸ¥
- [ ] Props å’Œ Emits å·²æ˜ç¡®å®šä¹‰ç±»å‹
- [ ] å¯¼å…¥è¯­å¥æŒ‰è§„èŒƒé¡ºåºæ’åˆ—
- [ ] å‘½åç¬¦åˆè§„èŒƒï¼ˆæ–‡ä»¶ã€å˜é‡ã€å‡½æ•°ã€CSS ç±»åï¼‰

## AI åŠ©æ‰‹å·¥ä½œæç¤º

1. **ä¼˜å…ˆæŸ¥çœ‹**: åœ¨ä¿®æ”¹æ ·å¼å‰ï¼Œå…ˆæŸ¥çœ‹ `src/styles/variables.scss` äº†è§£å¯ç”¨å˜é‡
2. **å›½é™…åŒ–**: æ–°å¢æ–‡æœ¬æ—¶ï¼ŒåŒæ—¶åœ¨ `zh.js` å’Œ `en.js` ä¸­æ·»åŠ ç¿»è¯‘
3. **æƒé™æ£€æŸ¥**: æ¶‰åŠæ“ä½œæƒé™æ—¶ï¼Œä½¿ç”¨ `src/utils/permission.js` ä¸­çš„å·¥å…·å‡½æ•°
4. **Mock æ•°æ®**: å½“å‰ä½¿ç”¨ Mock æ•°æ®ï¼Œæ¥å£å¼€å‘éœ€åŒæ­¥ä¿®æ”¹ 3 ä¸ªæ–‡ä»¶
5. **ç»„ä»¶åº“**: æ ¹æ®è®¾å¤‡ç±»å‹é€‰æ‹©åˆé€‚çš„ç»„ä»¶åº“ï¼ˆElement Plus æˆ– Vantï¼‰
