# 删除接口HTTP API接口 - API接口设计

## 1. 接口概述

本文档描述待办任务删除功能的HTTP/HTTPS接口设计，包括接口路径、请求参数、响应结果以及处理逻辑。

## 2. 接口基本信息

| 项目 | 内容 |
|------|------|
| 接口名称 | 删除待办任务接口 |
| 接口路径 | `DELETE /api/todo/delete/{id}` |
| 请求方式 | DELETE |
| 认证方式 | 需要登录认证 |
| 所属模块 | 个人待办模块 (todo) |
| Controller | `TodoListController` |
| Service | `TodoListServiceImpl` |

## 3. 接口定义

### 3.1 删除待办任务

#### 3.1.1 接口信息

**接口路径**: `DELETE /api/todo/delete/{id}`

**请求方式**: DELETE

**Content-Type**: application/json

**认证方式**: 需要登录认证（通过拦截器验证）

#### 3.1.2 请求参数

**路径参数**:

| 参数名 | 类型 | 必填 | 说明 | 示例 |
|--------|------|------|------|------|
| id | String | 是 | 待办任务ID | "1234567890" |

**请求示例**:
```http
DELETE /api/todo/delete/1234567890 HTTP/1.1
Host: localhost:8080
Content-Type: application/json
Authorization: Bearer {token}
```

#### 3.1.3 响应结果

**成功响应**:
```json
{
  "code": "200",
  "message": "success",
  "data": "1234567890"
}
```

**字段说明**:
- `code`: 响应码，"200"表示成功
- `message`: 响应消息
- `data`: 返回已删除的待办ID

**失败响应**:

1. 待办不存在
```json
{
  "code": "TODO_NOT_FOUND",
  "message": "待办不存在",
  "data": null
}
```

2. 待办状态无效
```json
{
  "code": "TEAM_TASK_OPERATE_STATUS_INVALID",
  "message": "待办状态无效，只有已完成的待办才能删除",
  "data": null
}
```

3. 待办已删除
```json
{
  "code": "TEAM_TASK_DELETED",
  "message": "待办已删除",
  "data": null
}
```

4. 无权限
```json
{
  "code": "NO_PERMISSION",
  "message": "无权限删除此待办",
  "data": null
}
```

5. 系统错误
```json
{
  "code": "SYSTEM_ERROR",
  "message": "系统错误",
  "data": null
}
```

## 4. 错误码说明

| 错误码 | 错误信息 | 说明 | HTTP状态码 |
|--------|----------|------|-----------|
| 0000 | 成功 | 删除成功 | 200 |
| TODO_NOT_FOUND | 待办不存在 | 根据ID查询不到待办 | 404 |
| TEAM_TASK_OPERATE_STATUS_INVALID | 待办状态无效 | 只有已完成的待办才能删除 | 400 |
| TEAM_TASK_DELETED | 待办已删除 | 待办已被删除，不能重复删除 | 400 |
| NO_PERMISSION | 无权限 | 用户既不是创建人也不是执行人 | 403 |
| SYSTEM_ERROR | 系统错误 | 系统内部错误 | 500 |